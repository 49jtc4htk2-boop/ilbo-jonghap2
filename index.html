<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>일일 전도 활동 종합</title>
<style>
/* 모바일 친화 스타일 */
body { font-family: Arial, sans-serif; padding: 10px; background:#f5f5f5; }
h2 { text-align:center; }
textarea { width: 100%; height: 150px; font-size:16px; margin-bottom:10px; padding:10px; }
button { font-size:16px; padding:10px 15px; margin:5px 0; width:100%; cursor:pointer; }
#result { font-size:18px; margin-top:10px; font-weight:bold; background:#fff; padding:10px; border-radius:5px; }
</style>
</head>
<body>

<h2>일일 전도 활동 종합</h2>

<!-- 텍스트 입력 -->
<textarea id="inputText" placeholder="일보 텍스트 붙여넣기"></textarea>

<!-- 계산 버튼 -->
<button id="calculateBtn">종합하기</button>

<!-- 결과 표시 -->
<div id="result"></div>

<!-- 결과 복사 버튼 -->
<button id="copyBtn">결과 복사</button>

<script>
// 종합 계산 로직
document.getElementById('calculateBtn').addEventListener('click', function() {
    let text = document.getElementById('inputText').value;
    let numbers = [0,0,0,0,0,0,0,0]; // 8개 항목

    // /와 / 사이 내용을 추출
    let regex = /\/([0-9.() \w]+)(?=\/|$)/g;
    let match;
    while(match = regex.exec(text)){
        let items = match[1].split(/\s+/);
        let idx = 0;
        items.forEach(item=>{
            let num = parseFloat(item.replace(/[^\d.]/g,''));
            if(!isNaN(num)){
                // 0인 칸 먼저 채움
                while(idx < numbers.length && numbers[idx] != 0) idx++;
                if(idx < numbers.length) numbers[idx] += num;
            }
        });
    }

    // 결과 출력
    document.getElementById('result').innerText = '종합/' + numbers.join('/');
});

// 복사 버튼
document.getElementById('copyBtn').addEventListener('click', function() {
    let result = document.getElementById('result').innerText;
    navigator.clipboard.writeText(result);
    alert('결과 복사 완료!');
});
</script>

</body>
</html>
